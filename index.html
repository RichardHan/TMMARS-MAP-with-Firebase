<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Detection Map</title>
    <link rel="stylesheet" href="css/map.css">
</head>
<body>
    <div id="dailyMars" style="TEXT-ALIGN: center;">
        <span class="title">Apps scanned:</span>
        <span id="appNum"> </span>&nbsp;&nbsp;&nbsp;&nbsp;
        <span class="title">Malware detected:</span>
        <span id="virusNum"> </span>
    </div>
    <div id="map" class="clear">
        <div id="container" style="position: relative; width: 100%; height: 100%; ">
            <img src="images/worldmap1280x500.png" style="position:absolute" width="1280" height="500">
            <canvas id="backCanvas" width="3000" height="2000" style="position:absolute"> </canvas>
            <canvas id="demoCanvas" width="3000" height="2000" style="position:absolute"> </canvas>
        </div>
    </div>
    <div id="topVirus" class="pie">
    </div>
    <div id="topApp" class="pie">
    </div>
    <div id="marquee_box">
        <ul id="marquee" class="marquee"></ul>
    </div>
    <!-- JS -->
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/easeljs-0.5.0.min.js"></script>
    <script type="text/javascript" src="js/tweenjs-0.3.0.min.js"></script>
    <script type="text/javascript" src="js/namespace.js"></script>
    <script type="text/javascript" src="js/map.js"></script>
    <script type="text/javascript" src="js/BrowserDetect.js"></script>
    <script type="text/javascript" src="js/dailyMars.js"></script>
    <!-- JS -->
    <script>
        var configuration = {};
        configuration.updateInterval = {
            news: 1000 * 60 * 5,//5 minutes
            dots: 1000 * 60 * 5,//5 minutes
            circles: 1000 * 60,//1 minute
            pies: 1000 * 60 * 60,//1 hour
            scannumber: 1000 * 60 * 60 //1 hour
        };
        var realDataSources = {
            circles: "https://njdc.rest.mars.trendmicro.com/akamailog/latest",
            topVirus: "https://njdc.rest.mars.trendmicro.com/akamailog/top-virus",
            topApp: "https://njdc.rest.mars.trendmicro.com/akamailog/top-app",
            topArea: "https://njdc.rest.mars.trendmicro.com/akamailog/top-area",
            news: "https://njdc.rest.mars.trendmicro.com/akamailog/log",
            dots: "https://njdc.rest.mars.trendmicro.com/akamailog/base"
        };
        //var fakedataSources = {
        //    circles: "data/latest.data",
        //    topVirus: "https://njdc.rest.mars.trendmicro.com/akamailog/top-virus",
        //    topApp: "https://njdc.rest.mars.trendmicro.com/akamailog/top-app",
        //    topArea: "data/topArea.data",
        //    news: "data/getLog.data",
        //    dots: "data/base.data"
        //};
        configuration.dataSources = realDataSources;
        configuration.colors = {
            normal: "#7CC0EF",
            virus: "#C71D37"
        };
        configuration.config = {
            max_circles_number_show_per_fetch: 100,
            duration_of_single_circle_animate: 2000,
            max_circles_number_show_per_time: 5,
            r1_hold: 1,
            r2_hold: 2,
            r3_hold: 4,
            a1_hold: 0.2,
            a2_hold: 0.5,
            a3_hold: 1,
            //2 points to rectify the map
            point1: {
                x: 15,
                y: 66,
                Lng: -168.110458,
                Lat: 65.640155
            },
            point2: {
                x: 1209,
                y: 422,
                Lng: 178.546646,
                Lat: -37.688167
            },
            map_size_factor: 1
        };

        var map = new mars.map();
        map.run(configuration);

        function updateDailyMars() {
            //globalDailyMars defined in js/dailyMars.js
            $("#appNum").html(addCommas(globalDailyMars[0].toString()));
            $("#virusNum").html(addCommas(globalDailyMars[1].toString()));
        }
        setInterval(updateDailyMars, 1000);
    </script>
    <script type="text/javascript" src="js/highcharts.js"></script>
    <script type="text/javascript" src="js/exporting.js"></script>
    <script type="text/javascript" src="js/pie.js"></script>
    <script type="text/javascript" src="js/resize.js"></script>
</body>
<!-- Mirrored from mars.trendmicro.com/map/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 27 Nov 2013 03:02:04 GMT -->
</html>
